window.__require=function t(e,o,n){function i(r,a){if(!o[r]){if(!e[r]){var s=r.split("/");if(s=s[s.length-1],!e[s]){var p="function"==typeof __require&&__require;if(!a&&p)return p(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var l=o[r]={exports:{}};e[r][0].call(l.exports,function(t){return i(e[r][1][t]||t)},l,l.exports,t,e,o,n)}return o[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({CarAIHandler:[function(t,e,o){"use strict";cc._RF.push(e,"8b5c1KLe5tGMqoLPNndS5MN","CarAIHandler");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r,a=t("../CarPhysics"),s=t("../EventMechanism/ClientEvent"),p=t("../EventMechanism/EventNames"),l=t("../GameController"),h=cc._decorator,u=h.ccclass,d=h.property;(function(t){t[t.NONE=0]="NONE",t[t.OIL=1]="OIL",t[t.SAND=2]="SAND",t[t.GRASS=3]="GRASS"})(r||(r={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rotationAngle=0,e.accelerationFactor=50,e.turnFactor=300,e.driftMagnitude=.98,e.maxSpeed=100,e.accelerationInput=1,e.steeringInput=0,e.friction=3,e.body=null,e.forwardVelocity=cc.v2(),e.rightVelocity=cc.v2(),e.waypointsNode=null,e.waypoints=[],e.currentWaypointIndex=0,e.waypointThreshold=10,e.stuckVelocityThreshold=5,e.reverseDuration=.5,e.reversing=!1,e.reverseTimer=0,e.waypointsCompleted=!1,e.reverseSpeedFactor=.5,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.body=this.node.getComponent(cc.RigidBody),this.waypoints=this.waypointsNode.children,s.clientEvent.on(p.EventName.OnGameStart,function(){t.signal=l.SIGNAL.GREEN})},e.prototype.update=function(t){if(this.signal!=l.SIGNAL.RED)if(this.currentWaypointIndex>=this.waypoints.length)this.accelerationInput=0;else{var e=this.waypoints[this.currentWaypointIndex];this.node.position.sub(e.position).mag()<5&&(this.currentWaypointIndex++,this.currentWaypointIndex>=this.waypoints.length)?this.accelerationInput=0:(this.applyForce(t),this.applySteering(t),this.forwardVelocity=this.calculateForce(),this.rightVelocity=this.calculateSteerForce(),this.killOrthogonalVelocity(),this.limitCarSpeed(),this.updateWaypoint())}},e.prototype.startReversing=function(){this.reversing=!0,this.reverseTimer=this.reverseDuration,this.accelerationInput=-1},e.prototype.updateWaypoint=function(){if(!this.reversing){var t=this.waypoints[this.currentWaypointIndex].position,e=t.sub(this.node.position).normalize(),o=cc.v2(Math.cos(cc.misc.degreesToRadians(this.node.angle)),Math.sin(cc.misc.degreesToRadians(this.node.angle))),n=o.dot(cc.v2(e)),i=o.cross(cc.v2(e));this.steeringInput=i>0?1:-1,this.node.position.sub(t).mag()<this.waypointThreshold&&(this.currentWaypointIndex<this.waypoints.length-1?this.currentWaypointIndex++:(this.waypointsCompleted=!0,this.accelerationInput=0)),n<0&&(this.accelerationInput=0)}},e.prototype.onBeginContact=function(){},e.prototype.onEndContact=function(){},e.prototype.isTireScreeching=function(){var t=this.calcForwardVelocity();return this.accelerationInput>0&&t<this.accelerationFactor||this.accelerationInput<0&&t>10||this.rightVelocity.mag()>20},e.prototype.calcForwardVelocity=function(){var t=-cc.misc.degreesToRadians(-this.node.angle),e=cc.v2(Math.cos(t),Math.sin(t));return cc.Vec2.dot(this.body.linearVelocity,e)},e.prototype.applyForce=function(){0==this.accelerationInput?this.body.linearDamping=this.friction:this.body.linearDamping=0;var t=-cc.misc.degreesToRadians(-this.node.angle),e=cc.v2(Math.cos(t),Math.sin(t)).mul(this.accelerationInput*this.accelerationFactor);this.body.applyForceToCenter(e,!0)},e.prototype.applySteering=function(t){var e=this.body.linearVelocity.mag(),o=cc.misc.clampf(e/this.maxSpeed,0,1),n=cc.v2(Math.cos(cc.misc.degreesToRadians(this.node.angle)),Math.sin(cc.misc.degreesToRadians(this.node.angle))),i=this.body.linearVelocity.dot(n)>0?-this.steeringInput:this.steeringInput;this.rotationAngle-=i*this.turnFactor*o*t;var c=cc.misc.degreesToRadians(this.rotationAngle);this.node.angle=cc.misc.radiansToDegrees(c)},e.prototype.limitCarSpeed=function(){var t=this.body.linearVelocity,e=t.mag(),o=cc.v2(Math.cos(cc.misc.degreesToRadians(this.node.angle)),Math.sin(cc.misc.degreesToRadians(this.node.angle))),n=this.body.linearVelocity.dot(o)<0?this.maxSpeed*this.reverseSpeedFactor:this.maxSpeed;if(e>n){var i=t.normalize().multiplyScalar(n);this.body.linearVelocity=i}},e.prototype.killOrthogonalVelocity=function(){var t=this.rightVelocity.mag(),e=this.rightVelocity.normalize(),o=t*this.driftMagnitude,n=e.mul(o),i=this.forwardVelocity.add(n);this.body.linearVelocity=i},e.prototype.calculateForce=function(){var t=-cc.misc.degreesToRadians(-this.node.angle),e=cc.v2(Math.cos(t),Math.sin(t));return e.multiplyScalar(cc.Vec2.dot(this.body.linearVelocity,e))},e.prototype.calculateSteerForce=function(){var t=-cc.misc.degreesToRadians(-this.node.angle),e=cc.v2(Math.cos(t),Math.sin(t));return e.multiplyScalar(cc.Vec2.dot(this.body.linearVelocity,e))},c([d(cc.Node)],e.prototype,"waypointsNode",void 0),c([d],e.prototype,"waypointThreshold",void 0),c([d],e.prototype,"stuckVelocityThreshold",void 0),c([d],e.prototype,"reverseDuration",void 0),c([d],e.prototype,"reverseSpeedFactor",void 0),c([u],e)}(a.default);o.default=y,cc._RF.pop()},{"../CarPhysics":"CarPhysics","../EventMechanism/ClientEvent":"ClientEvent","../EventMechanism/EventNames":"EventNames","../GameController":"GameController"}],CarPhysics:[function(t,e,o){"use strict";cc._RF.push(e,"2e16bXhskpGUZwfj7MvDhxO","CarPhysics");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r,a=t("./EventMechanism/ClientEvent"),s=t("./EventMechanism/EventNames"),p=t("./GameController"),l=t("./PopupManager"),h=cc._decorator,u=h.ccclass;h.property,function(t){t[t.NONE=0]="NONE",t[t.SAND=1]="SAND",t[t.GRASS=2]="GRASS",t[t.OIL=3]="OIL"}(r||(r={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rotationAngle=0,e.accelerationFactor=50,e.turnFactor=300,e.driftMagnitude=.98,e.maxSpeed=100,e.accelerationInput=0,e.steeringInput=0,e.friction=3,e.body=null,e.forwardVelocity=cc.v2(),e.rightVelocity=cc.v2(),e.surface=r.NONE,e.signal=p.SIGNAL.RED,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.body=this.node.getComponent(cc.RigidBody),cc.director.getPhysicsManager().enabled=!0,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),a.clientEvent.on(s.EventName.OnGameStart,function(){t.signal=p.SIGNAL.GREEN})},e.prototype.onDisable=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},e.prototype.onKeyDown=function(t){switch(t.keyCode){case cc.macro.KEY.up:this.accelerationInput=1;break;case cc.macro.KEY.down:this.accelerationInput=-1;break;case cc.macro.KEY.left:this.steeringInput=1;break;case cc.macro.KEY.right:this.steeringInput=-1}},e.prototype.onKeyUp=function(t){switch(t.keyCode){case cc.macro.KEY.up:case cc.macro.KEY.down:this.accelerationInput=0;break;case cc.macro.KEY.left:case cc.macro.KEY.right:this.steeringInput=0}},e.prototype.update=function(t){this.signal!=p.SIGNAL.RED&&(this.applyForce(t),this.applySteering(t),this.forwardVelocity=this.calculateForce(),this.rightVelocity=this.calculateSteerForce(),this.killOrthogonalVelocity(),this.limitCarSpeed())},e.prototype.onBeginContact=function(t,e,o){switch(o.node.name){case"Intro":a.clientEvent.dispatchEvent(s.EventName.OnShowPopup,l.PopupId.INTRO,!0);break;case"Education":a.clientEvent.dispatchEvent(s.EventName.OnShowPopup,l.PopupId.EDUCATION,!0);break;case"Experience":a.clientEvent.dispatchEvent(s.EventName.OnShowPopup,l.PopupId.EXPERIENCE,!0);break;case"Projects":a.clientEvent.dispatchEvent(s.EventName.OnShowPopup,l.PopupId.PROJECTS,!0);break;case"Skills":a.clientEvent.dispatchEvent(s.EventName.OnShowPopup,l.PopupId.SKILLS,!0)}},e.prototype.onEndContact=function(t,e,o){switch(o.node.name){case"Intro":a.clientEvent.dispatchEvent(s.EventName.OnShowPopup,l.PopupId.INTRO,!1);break;case"Education":a.clientEvent.dispatchEvent(s.EventName.OnShowPopup,l.PopupId.EDUCATION,!1);break;case"Experience":a.clientEvent.dispatchEvent(s.EventName.OnShowPopup,l.PopupId.EXPERIENCE,!1);break;case"Projects":a.clientEvent.dispatchEvent(s.EventName.OnShowPopup,l.PopupId.PROJECTS,!1);break;case"Skills":a.clientEvent.dispatchEvent(s.EventName.OnShowPopup,l.PopupId.SKILLS,!1)}this.surface=r.NONE},e.prototype.applyForce=function(){switch(0==this.accelerationInput?this.body.linearDamping=this.friction:this.body.linearDamping=0,this.surface){case r.OIL:this.body.linearDamping=0;break;case r.SAND:this.body.linearDamping=1.5*this.friction*(1-this.driftMagnitude);break;case r.GRASS:this.body.linearDamping=.8*this.friction*(1-this.driftMagnitude)}var t=-cc.misc.degreesToRadians(-this.node.angle),e=cc.v2(Math.cos(t),Math.sin(t)).mul(this.accelerationInput*this.accelerationFactor);this.body.applyForceToCenter(e,!0)},e.prototype.applySteering=function(t){var e=this.body.linearVelocity.mag(),o=cc.misc.clampf(e/this.maxSpeed,0,1),n=cc.v2(Math.cos(cc.misc.degreesToRadians(this.node.angle)),Math.sin(cc.misc.degreesToRadians(this.node.angle))),i=this.body.linearVelocity.dot(n)>0?-this.steeringInput:this.steeringInput;this.rotationAngle-=i*this.turnFactor*o*t;var c=cc.misc.degreesToRadians(this.rotationAngle);this.node.angle=cc.misc.radiansToDegrees(c)},e.prototype.limitCarSpeed=function(){var t=this.body.linearVelocity;if(t.mag()>this.maxSpeed){var e=t.normalize().multiplyScalar(this.maxSpeed);this.body.linearVelocity=e}},e.prototype.killOrthogonalVelocity=function(){var t=this.rightVelocity.mag(),e=this.rightVelocity.normalize(),o=t*this.driftMagnitude,n=e.mul(o),i=this.forwardVelocity.add(n);this.body.linearVelocity=i},e.prototype.isTireScreeching=function(){var t=this.calcForwardVelocity();return this.accelerationInput>0&&t<this.accelerationFactor||this.accelerationInput<0&&t>10||this.rightVelocity.mag()>20},e.prototype.calcForwardVelocity=function(){var t=-cc.misc.degreesToRadians(-this.node.angle),e=cc.v2(Math.cos(t),Math.sin(t));return cc.Vec2.dot(this.body.linearVelocity,e)},e.prototype.calculateForce=function(){var t=-cc.misc.degreesToRadians(-this.node.angle),e=cc.v2(Math.cos(t),Math.sin(t));return e.multiplyScalar(cc.Vec2.dot(this.body.linearVelocity,e))},e.prototype.calculateSteerForce=function(){var t=-cc.misc.degreesToRadians(-this.node.angle),e=cc.v2(Math.cos(t),Math.sin(t)),o=cc.v2(-e.y,e.x);return o.multiplyScalar(cc.Vec2.dot(this.body.linearVelocity,o))},c([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./EventMechanism/ClientEvent":"ClientEvent","./EventMechanism/EventNames":"EventNames","./GameController":"GameController","./PopupManager":"PopupManager"}],ClientEvent:[function(t,e,o){"use strict";cc._RF.push(e,"e30fa3fKbdBdaQd+E3Wgam7","ClientEvent");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.clientEvent=void 0;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.handlers={},e}(t("./OneToMultilistener").OneToMultiListener);o.clientEvent=c,cc._RF.pop()},{"./OneToMultilistener":"OneToMultilistener"}],Controller:[function(t,e,o){"use strict";cc._RF.push(e,"e1b90/rohdEk4SdmmEZANaD","Controller");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.accelerationFactor=50,e.driftMagnitude=.9,e.maxSpeed=200,e.turnFactor=200,e.frictionFactor=1,e.moveInput=0,e.rotateInput=0,e.accelerationInput=0,e.steeringInput=0,e.body=null,e.rotationAngle=0,e.forwardVelocity=cc.v2(),e.rightVelocity=cc.v2(),e}return i(e,t),e.prototype.onLoad=function(){this.body=this.node.getComponent(cc.RigidBody),this.resetPhysics(),cc.director.getPhysicsManager().enabled=!0,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},e.prototype.resetPhysics=function(){this.body.angularDamping=0,this.body.linearDamping=0,this.body.linearVelocity=cc.v2(),this.body.angularVelocity=0},e.prototype.onDisable=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},e.prototype.onKeyDown=function(t){switch(t.keyCode){case cc.macro.KEY.w:this.moveInput=1;break;case cc.macro.KEY.s:this.moveInput=-1;break;case cc.macro.KEY.a:this.rotateInput=1;break;case cc.macro.KEY.d:this.rotateInput=-1}this.setInputVector()},e.prototype.onKeyUp=function(t){switch(t.keyCode){case cc.macro.KEY.w:case cc.macro.KEY.s:this.moveInput=0;break;case cc.macro.KEY.a:case cc.macro.KEY.d:this.rotateInput=0}this.setInputVector()},e.prototype.isTireScreeching=function(){var t=this.calcForwardVelocity();return this.accelerationInput>0&&t<this.accelerationFactor/2||this.accelerationInput<0&&t>10||this.rightVelocity.mag()>10*this.frictionFactor},e.prototype.calcForwardVelocity=function(){var t=-cc.misc.degreesToRadians(-this.node.angle),e=cc.v2(Math.cos(t),Math.sin(t));return cc.Vec2.dot(this.body.linearVelocity,e)},e.prototype.setInputVector=function(){this.accelerationInput=this.moveInput,this.steeringInput=this.rotateInput},e.prototype.lateUpdate=function(t){this.applyForce(t),this.applySteering(t),this.forwardVelocity=this.getForwardVelocity(),this.rightVelocity=this.getRightVelocity(),this.killOrthogonalVelocity(),this.limitCarSpeed()},e.prototype.adjustFriction=function(){this.driftMagnitude>0?this.body.linearDamping=this.frictionFactor*(1-this.driftMagnitude):this.body.linearDamping=this.frictionFactor},e.prototype.applyForce=function(){0==this.accelerationInput?this.body.linearDamping=this.frictionFactor*(1-this.driftMagnitude):this.body.linearDamping=0;var t=cc.misc.degreesToRadians(this.node.angle),e=cc.v2(Math.cos(t),Math.sin(t)).mul(this.accelerationInput*this.accelerationFactor);this.body.applyForceToCenter(e,!0)},e.prototype.applySteering=function(t){var e=this.body.linearVelocity.mag(),o=cc.misc.clampf(e/this.maxSpeed,0,1),n=cc.v2(Math.cos(cc.misc.degreesToRadians(this.node.angle)),Math.sin(cc.misc.degreesToRadians(this.node.angle))),i=this.body.linearVelocity.dot(n)>0?-this.steeringInput:this.steeringInput;this.rotationAngle-=i*this.turnFactor*o*t;var c=cc.misc.degreesToRadians(this.rotationAngle);this.node.angle=cc.misc.radiansToDegrees(c)},e.prototype.limitCarSpeed=function(){var t=this.body.linearVelocity;if(t.mag()>this.maxSpeed){var e=t.normalize().mul(this.maxSpeed);this.body.linearVelocity=e}},e.prototype.killOrthogonalVelocity=function(){var t=this.rightVelocity.mag(),e=this.rightVelocity.normalize(),o=t*this.driftMagnitude,n=e.mul(o),i=this.forwardVelocity.add(n);this.body.linearVelocity=i},e.prototype.getForwardVelocity=function(){var t=cc.misc.degreesToRadians(this.node.angle),e=cc.v2(Math.cos(t),Math.sin(t));return e.mul(cc.Vec2.dot(this.body.linearVelocity,e))},e.prototype.getRightVelocity=function(){var t=cc.misc.degreesToRadians(this.node.angle),e=cc.v2(Math.cos(t),Math.sin(t)),o=cc.v2(-e.y,e.x);return o.mul(cc.Vec2.dot(this.body.linearVelocity,o))},c([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],EventNames:[function(t,e,o){"use strict";cc._RF.push(e,"1bc63MzpbhMi4NAoQIhzT86","EventNames"),Object.defineProperty(o,"__esModule",{value:!0}),o.EventName=void 0,o.EventName={OnShowVideo:"OnShowVideo",OnShowPopup:"OnShowPopup",OnGameStart:"OnGameStart"},cc._RF.pop()},{}],FollowCamera:[function(t,e,o){"use strict";cc._RF.push(e,"c1fa2d9fI5Ig44XO/NwATu+","FollowCamera");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.car=null,e.followNodes=[],e}return i(e,t),e.prototype.onLoad=function(){var t=this.car.getPosition();t.x=cc.misc.clampf(t.x,-cc.winSize.width/2,cc.winSize.width/2),t.y=cc.misc.clampf(t.y,-cc.winSize.height/2,cc.winSize.height/2),this.node.setPosition(t)},e.prototype.lateUpdate=function(t){this.follow(t)},e.prototype.follow=function(){var t=this.car.getPosition();t.x=cc.misc.clampf(t.x,-cc.winSize.width/2,cc.winSize.width/2),t.y=cc.misc.clampf(t.y,-cc.winSize.height/2,cc.winSize.height/2);var e=this.node.getPosition();e.lerp(t,.2,e),this.node.setPosition(e),this.followNodes.forEach(function(t){t.setPosition(e)})},c([s(cc.Node)],e.prototype,"car",void 0),c([s(cc.Node)],e.prototype,"followNodes",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],GameController:[function(t,e,o){"use strict";cc._RF.push(e,"dbfe5GtOx9Ob5sk9I8N2kiY","GameController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.SIGNAL=void 0;var r,a=cc._decorator,s=a.ccclass;a.property,function(t){t[t.GREEN=0]="GREEN",t[t.RED=1]="RED"}(r=o.SIGNAL||(o.SIGNAL={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.signal=r.RED,e}return i(e,t),e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0},e.prototype.onStart=function(){this.signal=r.GREEN},c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],ManualController:[function(t,e,o){"use strict";cc._RF.push(e,"156299Y0BxDaqCPvkcP6FwN","ManualController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=150,e.rotationSpeed=10,e.driftFactor=1,e.moveInput=0,e.rotateInput=0,e.body=null,e.magnitude=50,e}return i(e,t),e.prototype.onLoad=function(){this.body=this.node.getComponent(cc.RigidBody),cc.director.getPhysicsManager().enabled=!0,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),this.schedule(this.fixedUpdate,.06)},e.prototype.onDisable=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},e.prototype.onKeyDown=function(t){switch(t.keyCode){case cc.macro.KEY.up:this.moveInput=1;break;case cc.macro.KEY.down:this.moveInput=-1;break;case cc.macro.KEY.left:this.rotateInput=1;break;case cc.macro.KEY.right:this.rotateInput=-1}},e.prototype.onKeyUp=function(t){switch(t.keyCode){case cc.macro.KEY.up:case cc.macro.KEY.down:this.moveInput=0;break;case cc.macro.KEY.left:case cc.macro.KEY.right:this.rotateInput=0}},e.prototype.fixedUpdate=function(){var t=this.body.linearVelocity.mag()/this.magnitude;t=cc.misc.clamp01(t);var e=this.node.angle+this.rotateInput*this.rotationSpeed*t,o=cc.misc.degreesToRadians(e),n=cc.v2(Math.cos(o),Math.sin(o)),i=cc.v2(-n.y,n.x),c=n.mul(this.speed*this.moveInput),r=i.mul(this.speed*this.rotateInput*.5),a=c.add(r.mul(this.driftFactor));this.body.applyForceToCenter(a,!0),this.node.angle=e},c([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Obstackle:[function(t,e,o){"use strict";cc._RF.push(e,"0d7f9brUrFJZaOfJzw9JknY","Obstackle");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.node.getComponent(cc.RigidBody).enabledContactListener=!0},c([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],OneToMultilistener:[function(t,e,o){"use strict";cc._RF.push(e,"ba722EK5mNFKa5c2i5kRVZH","OneToMultilistener"),Object.defineProperty(o,"__esModule",{value:!0}),o.OneToMultiListener=void 0;var n=function(){function t(){}return t.on=function(t,e,o){var n={handler:e,target:o},i=this.handlers[t];i||(i=[],this.handlers[t]=i);for(var c=0;c<i.length;c++)if(!i[c])return i[c]=n,c;return i.push(n),i.length},t.off=function(t,e,o){var n=this.handlers[t];if(n)for(var i=0;i<n.length;i++){var c=n[i];if(c.handler===e&&(!o||o===c.target)){n.splice(i,1);break}}},t.dispatchEvent=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var n,i=this.handlers[t],c=[];for(n=1;n<arguments.length;n++)c.push(arguments[n]);if(i)for(n=0;n<i.length;n++){var r=i[n];r.handler&&r.handler.apply(r.target,e)}},t.setSupportEventList=function(t){if(!(t instanceof Array))return cc.log("supportEvent was not array"),!1;for(var e in this.supportEvent={},t){var o=t[e];this.supportEvent[o]=e}return!0},t}();o.OneToMultiListener=n,cc._RF.pop()},{}],PopupManager:[function(t,e,o){"use strict";cc._RF.push(e,"01937TyJexPXroaXGzCz2fC","PopupManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.PopObject=o.PopupId=void 0;var r,a=t("./EventMechanism/ClientEvent"),s=t("./EventMechanism/EventNames"),p=t("./Popup"),l=cc._decorator,h=l.ccclass,u=l.property;(function(t){t[t.none=0]="none",t[t.INTRO=1]="INTRO",t[t.EDUCATION=2]="EDUCATION",t[t.EXPERIENCE=3]="EXPERIENCE",t[t.SKILLS=4]="SKILLS",t[t.PROJECTS=5]="PROJECTS"})(r=o.PopupId||(o.PopupId={}));var d=function(){function t(){this.name=r.none,this.handler=null}return c([u({type:cc.Enum(r)})],t.prototype,"name",void 0),c([u({type:p.default})],t.prototype,"handler",void 0),c([h("PopObject")],t)}();o.PopObject=d;var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.popupArr=[],e.maps=null,e}return i(e,t),e.prototype.onLoad=function(){a.clientEvent.on(s.EventName.OnShowPopup,this.showPopup,this)},e.prototype.showPopup=function(t,e){var o=this.getPopupObject(t);e?o.handler.show():o.handler.onClose()},e.prototype.getPopupObject=function(t){return this.maps||this.initMaps(),this.maps.get(t)},e.prototype.initMaps=function(){var t=this;this.maps=new Map,this.popupArr.forEach(function(e){t.maps.set(e.name,e)})},c([u(d)],e.prototype,"popupArr",void 0),c([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"./EventMechanism/ClientEvent":"ClientEvent","./EventMechanism/EventNames":"EventNames","./Popup":"Popup"}],Popup:[function(t,e,o){"use strict";cc._RF.push(e,"2fe39GGUTRIna5yQfIXMBRm","Popup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isActive=!1,e.isFading=!1,e.finalScale=.7,e.tweenTime=.25,e}return i(e,t),e.prototype.show=function(){var t=this;this.isActive||this.isFading||(this.node.active=!0,this.node.opacity=0,this.node.scale=this.finalScale,this.isFading=!0,cc.tween(this.node).to(this.tweenTime,{opacity:255,scale:1}).call(function(){t.isFading=!1}).start())},e.prototype.onClose=function(){var t=this;this.isFading||(this.isFading=!0,cc.tween(this.node).to(this.tweenTime,{opacity:0,scale:this.finalScale}).call(function(){t.node.active=!1,t.isFading=!1}).start())},c([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Projects:[function(t,e,o){"use strict";cc._RF.push(e,"bdf2bFz/gZIgrC4v72GKOtb","Projects");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./EventMechanism/ClientEvent"),a=t("./EventMechanism/EventNames"),s=t("./Popup"),p=t("./VideoManager"),l=cc._decorator,h=l.ccclass,u=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onVideoSelect=function(t,e){switch(e){case"khelplay":r.clientEvent.dispatchEvent(a.EventName.OnShowVideo,p.VideoPlayerId.KPR);break;case"smashing":r.clientEvent.dispatchEvent(a.EventName.OnShowVideo,p.VideoPlayerId.SMASHING);break;case"pushpush":r.clientEvent.dispatchEvent(a.EventName.OnShowVideo,p.VideoPlayerId.PUSH_PUSH);break;case"stackball":r.clientEvent.dispatchEvent(a.EventName.OnShowVideo,p.VideoPlayerId.STACKBALL);break;case"slotgame":r.clientEvent.dispatchEvent(a.EventName.OnShowVideo,p.VideoPlayerId.SLOT_GAMES);break;case"wordle":r.clientEvent.dispatchEvent(a.EventName.OnShowVideo,p.VideoPlayerId.WORDLE)}},c([h],e)}(s.default));o.default=u,cc._RF.pop()},{"./EventMechanism/ClientEvent":"ClientEvent","./EventMechanism/EventNames":"EventNames","./Popup":"Popup","./VideoManager":"VideoManager"}],Start:[function(t,e,o){"use strict";cc._RF.push(e,"75a49rt3YlDWr2WkeRWddm0","Start");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./EventMechanism/ClientEvent"),a=t("./EventMechanism/EventNames"),s=cc._decorator,p=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isActive=!1,e.isFading=!1,e.tweenTime=.2,e}return i(e,t),e.prototype.show=function(){var t=this;this.isActive||this.isFading||(this.node.active=!0,this.node.opacity=0,this.isFading=!0,cc.tween(this.node).to(this.tweenTime,{opacity:255}).call(function(){t.isFading=!1}).start())},e.prototype.onClose=function(){var t=this;this.isFading||(r.clientEvent.dispatchEvent(a.EventName.OnGameStart),this.isFading=!0,cc.tween(this.node).to(this.tweenTime,{opacity:0}).call(function(){t.node.active=!1,t.isFading=!1}).start())},c([p],e)}(cc.Component));o.default=l,cc._RF.pop()},{"./EventMechanism/ClientEvent":"ClientEvent","./EventMechanism/EventNames":"EventNames"}],TrailEffect:[function(t,e,o){"use strict";cc._RF.push(e,"97ce4V9xhdHF73Zbn+fok8o","TrailEffect");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./CarPhysics"),a=cc._decorator,s=a.ccclass,p=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skidMarkPrefab=null,e.skidLayer=null,e.car=null,e.skidMarkInterval=5,e.lastSkidMarkTime=0,e.fadingDuration=3,e.trailArray=[],e}return i(e,t),e.prototype.start=function(){this.trailArray=[],this.lastSkidMarkTime=0},e.prototype.update=function(){this.car.isTireScreeching()?Date.now()-this.lastSkidMarkTime>this.skidMarkInterval&&(this.manageSkidMark(),this.lastSkidMarkTime=Date.now()):this.removeAllSkids()},e.prototype.removeAllSkids=function(){var t=this;this.trailArray.forEach(function(e){e.runAction(cc.sequence(cc.fadeOut(t.fadingDuration),cc.callFunc(function(){e.destroy()})))}),this.trailArray=[]},e.prototype.manageSkidMark=function(){var t=this.createSkidMark();if(this.trailArray.push(t),this.trailArray.length>100){var e=this.trailArray.shift();e.runAction(cc.sequence(cc.fadeOut(this.fadingDuration),cc.callFunc(function(){e.destroy()})))}},e.prototype.createSkidMark=function(){var t=cc.instantiate(this.skidMarkPrefab);t.width=3,t.height=3;var e=this.node.convertToWorldSpaceAR(cc.Vec3.ZERO),o=this.car.node.parent.convertToNodeSpaceAR(e);return t.setPosition(o),t.angle=this.car.node.angle,this.skidLayer.addChild(t),t},c([p(cc.Prefab)],e.prototype,"skidMarkPrefab",void 0),c([p(cc.Node)],e.prototype,"skidLayer",void 0),c([p(r.default)],e.prototype,"car",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./CarPhysics":"CarPhysics"}],TrailGraphics:[function(t,e,o){"use strict";cc._RF.push(e,"7be4fsnjUdG75/Laz3+AQrR","TrailGraphics");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./CarPhysics"),a=cc._decorator,s=a.ccclass,p=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.graphics=null,e.car=null,e.previousPositions=[],e.maxTrailLength=500,e.trailWidth=5,e.skidMarkInterval=5,e.lastSkidMarkTime=0,e.fadingDuration=1,e}return i(e,t),e.prototype.update=function(){if(this.car.isTireScreeching()&&Date.now()-this.lastSkidMarkTime>this.skidMarkInterval){var t=this.node.convertToWorldSpaceAR(cc.Vec3.ZERO),e=this.car.node.parent.convertToNodeSpaceAR(t);this.addPositionToTrail(cc.v2(e.x,e.y)),this.drawTrailWithFade(),this.lastSkidMarkTime=Date.now()}},e.prototype.addPositionToTrail=function(t){this.previousPositions.push(t),this.previousPositions.length>this.maxTrailLength&&this.previousPositions.shift()},e.prototype.drawTrail=function(){this.graphics.clear(),this.graphics.lineWidth=this.trailWidth,this.graphics.strokeColor=cc.Color.WHITE,this.previousPositions.length>0&&this.graphics.moveTo(this.previousPositions[0].x,this.previousPositions[0].y);for(var t=1;t<this.previousPositions.length;t++)this.graphics.lineTo(this.previousPositions[t].x,this.previousPositions[t].y);this.graphics.stroke()},e.prototype.drawTrailWithFade=function(){this.graphics.clear();for(var t=1;t<this.previousPositions.length;t++){var e=t/this.previousPositions.length,o=Math.floor(255*e),n=new cc.Color(255,255,255,o);this.graphics.lineWidth=this.trailWidth,this.graphics.strokeColor=n,this.graphics.moveTo(this.previousPositions[t-1].x,this.previousPositions[t-1].y),this.graphics.lineTo(this.previousPositions[t].x,this.previousPositions[t].y),this.graphics.stroke()}},c([p(cc.Graphics)],e.prototype,"graphics",void 0),c([p(r.default)],e.prototype,"car",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./CarPhysics":"CarPhysics"}],Unity:[function(t,e,o){"use strict";cc._RF.push(e,"d3d88evxBFBnInyINnqx2+Y","Unity");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.acceleration=4,e.maxSpeed=10,e.turnFactor=2,e.driftFactor=.95,e.carRigidBody=null,e.accelerationInput=0,e.steeringInput=0,e.rotationAngle=0,e}return i(e,t),e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,this.carRigidBody=this.getComponent(cc.RigidBody),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},e.prototype.onDisable=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},e.prototype.onKeyDown=function(t){switch(t.keyCode){case cc.macro.KEY.up:this.accelerationInput=1;break;case cc.macro.KEY.down:this.accelerationInput=-1;break;case cc.macro.KEY.left:this.steeringInput=1;break;case cc.macro.KEY.right:this.steeringInput=-1}},e.prototype.onKeyUp=function(t){switch(t.keyCode){case cc.macro.KEY.up:case cc.macro.KEY.down:this.accelerationInput=0;break;case cc.macro.KEY.left:case cc.macro.KEY.right:this.steeringInput=0}},e.prototype.lateUpdate=function(){this.applyEngineForce(),this.applySteering()},e.prototype.applyEngineForce=function(){if(0===this.accelerationInput?this.carRigidBody.linearDamping=cc.misc.lerp(this.carRigidBody.linearDamping,2,.1):this.carRigidBody.linearDamping=.1,!(this.carRigidBody.linearVelocity.dot(cc.v2(this.node.up.x,this.node.up.y))>this.maxSpeed&&this.accelerationInput>0)){var t=this.node.up.mul(this.acceleration*this.accelerationInput);this.carRigidBody.applyForceToCenter(cc.v2(t.x,t.y),!0)}},e.prototype.applySteering=function(){this.rotationAngle+=this.steeringInput*this.turnFactor,this.node.angle=this.rotationAngle},e.prototype.killLateralVelocity=function(){var t=this.node.up.mul(this.carRigidBody.linearVelocity.dot(cc.v2(this.node.up.x,this.node.up.y))),e=this.node.right,o=e.mul(this.carRigidBody.linearVelocity.dot(cc.v2(e.x,e.y))),n=t.add(o.mul(this.driftFactor));this.carRigidBody.linearVelocity=cc.v2(n.x,n.y)},c([s],e.prototype,"acceleration",void 0),c([s],e.prototype,"maxSpeed",void 0),c([s],e.prototype,"turnFactor",void 0),c([s],e.prototype,"driftFactor",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],VideoManager:[function(t,e,o){"use strict";cc._RF.push(e,"f640e6w6U1CbptKGj7g/p4c","VideoManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.VideoObject=o.VideoPlayerId=void 0;var r,a=t("./EventMechanism/ClientEvent"),s=t("./EventMechanism/EventNames"),p=t("./VideoPlayer"),l=cc._decorator,h=l.ccclass,u=l.property;(function(t){t[t.none=0]="none",t[t.KPR=1]="KPR",t[t.PUSH_PUSH=2]="PUSH_PUSH",t[t.SLOT_GAMES=3]="SLOT_GAMES",t[t.SMASHING=4]="SMASHING",t[t.STACKBALL=5]="STACKBALL",t[t.WORDLE=6]="WORDLE"})(r=o.VideoPlayerId||(o.VideoPlayerId={}));var d=function(){function t(){this.name=r.none,this.videoClip=null}return c([u({type:cc.Enum(r)})],t.prototype,"name",void 0),c([u({type:p.default})],t.prototype,"videoClip",void 0),c([h("VideoObject")],t)}();o.VideoObject=d;var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.videosArr=[],e.maps=null,e}return i(e,t),e.prototype.onLoad=function(){a.clientEvent.on(s.EventName.OnShowVideo,this.showVideo,this)},e.prototype.showVideo=function(t){this.getVideoObject(t).videoClip.show()},e.prototype.getVideoObject=function(t){return this.maps||this.initMaps(),this.maps.get(t)},e.prototype.initMaps=function(){var t=this;this.maps=new Map,this.videosArr.forEach(function(e){t.maps.set(e.name,e)})},c([u(d)],e.prototype,"videosArr",void 0),c([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"./EventMechanism/ClientEvent":"ClientEvent","./EventMechanism/EventNames":"EventNames","./VideoPlayer":"VideoPlayer"}],VideoPlayer:[function(t,e,o){"use strict";cc._RF.push(e,"d6b58jSg29BXrzWvLUthaD5","VideoPlayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isActive=!1,e.isFading=!1,e.finalScale=.7,e.tweenTime=.25,e.video=null,e}return i(e,t),e.prototype.show=function(){var t=this;this.isActive||this.isFading||(this.node.active=!0,this.node.opacity=0,this.node.scale=this.finalScale,this.isFading=!0,cc.tween(this.node).to(this.tweenTime,{opacity:255,scale:1}).call(function(){t.isFading=!1}).start())},e.prototype.onPlay=function(){this.video.play()},e.prototype.onClose=function(){var t=this;this.isFading||(this.video.stop(),this.isFading=!0,cc.tween(this.node).to(this.tweenTime,{opacity:0,scale:this.finalScale}).call(function(){t.node.active=!1,t.isFading=!1}).start())},c([s(cc.VideoPlayer)],e.prototype,"video",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}]},{},["CarAIHandler","CarPhysics","Controller","ClientEvent","EventNames","OneToMultilistener","FollowCamera","GameController","ManualController","Obstackle","Popup","PopupManager","Projects","Start","TrailEffect","TrailGraphics","Unity","VideoManager","VideoPlayer"]);